<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
    <link href="../css/cwrc.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="../css/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="../css/favicon.ico" type="image/x-icon" />
    <title>Introduction to SPARQL Queries</title>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="col-xl-2 col-lg-3 col-md-12 d-none d-lg-block bg-light sidebar">
                <div class="sidebar-sticky">
                    <div class="sidebar-heading justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>Table of Contents</span>
                        <a class="d-flex align-items-center text-muted" href="#"></a>
                        <div id="toc">
                            <!-- Table of Contents -->
                        </div>
                    </div>
                </div>
            </nav>
            <main role="main" class="col-xl-10 col-lg-9 col-md-12 ml-sm-auto pt-3 px-4" data-spy="scroll" data-target="#toc">
                <h1>An Introduction to SPARQL Queries</h1>
                <h2>What is SPARQL?</h2>
                <p>SPARQL (SPARQL Protocol and RDF Query Language, pronounced “sparkle”)
                    is a query language used to retrieve and manipulate linked data stored in an RDF format. In this format,
                    data are stored as triples. Triples are formed by a subject, predicate, and object. Together they form an assertion that the subject has a particular property or relationship, indicated by the predicate, to the object.</p>
                <!--need a generic image of what a triple looks like (which may be covered by the one that isn't loading can't tell). Add a "Learn more" link to a page with introductory resources for those who want to read more.-->
                <!--image not loading in my browser- does the file need to be added to the directory or use an external URL?-->
                <!-- <img src="triple.png" alt="Triple" class="center_img"/> -->
                <strong>Example:</strong>
                <p>The best way to get started is to write a simple query:</p>
                <pre>
					<code>SELECT ?subject ?predicate ?object WHERE { 
	?subject ?predicate ?object . 
}					</code>
				</pre>
                <p>This query will return all the triples in the dataset.</p>
                <h2>Components of a Query</h2>
                <p>Let's break down this query further.</p>
                <!-- insert heading here: VARIABLES:-->
                <strong class="red_bold">?:</strong>
                <p>Any word following a question mark is a variable.</p>
                <strong class="red_bold">SELECT:</strong>
                <p>The variables following SELECT will be displayed in a table. Other keywords such as CONSTRUCT, ASK, and DESCRIBE can be used to display other results. 
                </p>
                <strong class="red_bold">WHERE:</strong>
                <p>The WHERE clause is mandatory and specifies where data will be extracted from. Other temporary variables
                    may be used here.</p>
                <p>Note: If a query may result in a large number of triples, modifiers such as LIMIT can be used to refine the search.
                    This topic will be explored in greater detail in the next section. The example below will
                    display the first 10 results.
                </p>
                <pre>
					<code>SELECT ?subject ?predicate ?object WHERE { 
	?subject ?predicate ?object .
}
LIMIT 10			</code>
				</pre>
                <h3>Prefixes and URIs</h3>
                <p>The data are stored in the form of triples with the subject, predicate, object format.
                    Each part of the triple is identified by a <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">Uniform Resource Identifier (URI)</a>.
                    For example, the gender property <a href="http://sparql.cwrc.ca/ontologies/cwrc.html#woman">"woman"</a> in the CWRC Ontology is represented by the following URI: <a href="http://sparql.cwrc.ca/ontologies/cwrc.html#woman">&lt;http://sparql.cwrc.ca/ontologies/cwrc.html#woman&gt;</a> </p>
                <p> URIs in queries are often shortened using a prefix, or <a href="https://en.wikipedia.org/wiki/Namespace">namespace</a> which is defined at the beginning of the query. These stand in for most of the URI, leaving variable at the end which designate the terms from that ontology or vocabulary. </p>
                <p>Thus the same term above could be represented in a triple as: <strong>cwrc:woman</strong></p>
                <h2>Interpreting a simple SPARQL query</h2>
                <pre class="code">PREFIX cwrc: &lt;http://sparql.cwrc.ca/ontologies/cwrc#&gt;
SELECT ?person WHERE { 
    ?person cwrc:hasGender cwrc:woman . 
    ?person cwrc:hasOccupation ?occupation .
    ?occupation a cwrc:teacher .
}
</pre>
                <p>This query searches for all of the triples in the CWRC dataset that satisfy the following
                    requirements: the person is a woman and a teacher. </p>
                <p>In plain English, it could be translated as follows: </p>
                <p>
                    <em>There is a person who has the gender woman</em>
                </p>
                <p>
                    <em>That same person has an occupation</em>
                </p>
                <p>
                    <em>That occupation is a teacher</em>
                </p>
                <h2>Notes on Style</h2>
                <p>Every triple in a query should end in a period.</p>
                <p>If a variable used in one line is repeated in the next line it can be omitted. Example:</p>
                <pre>
		        	<code>PREFIX cwrc: &lt;http://sparql.cwrc.ca/ontologies/cwrc#&gt;
SELECT ?person ?occupation WHERE { 
	?person cwrc:hasGender cwrc:woman . 
		cwrc:hasOccupation ?occupation .
}		        	</code>
        		</pre>
            </main>
        </div>
    </div>
    <!-- Bootstrap core JavaScript
	  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh3U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js" integrity="sha384-feJI7QwhOS+hwpX2zkaeJQjeiwlhOP+SdQDqhgvvo1DsjtiSQByFdThsxO669S2D" crossorigin="anonymous"></script>
    <script src="../js/toc.js"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>
    <script>
    window.onload = function() {
        var options = {
            selector: 'h2, h3, h4, h5',
            scope: 'main'
        };

        var container = document.querySelector('#toc');
        var toc = initTOC(options);
        container.appendChild(toc);
    };
    </script>
</body>

</html>